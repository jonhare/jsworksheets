<!DOCTYPE html>
<!-- 
Copyright 2017 Jonathon Hare / The University of Southampton

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

   http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=1280">
  <title>Javascript Worksheet</title>
  <link rel="stylesheet" href="css/codemirror.css">
  <link rel="stylesheet" href="css/worksheet.css">
  <link rel="stylesheet" href="css/font-awesome.min.css">

  <script src="js/codemirror.js"></script>
  <script src="js/mode/javascript/javascript.js"></script>
  <script type="text/javascript" src="js/jquery-2.1.3.min.js"></script>
  <script type="text/javascript" src="js/jquery-ui.min.js"></script>
  <script type="text/javascript" src="js/jshint.js"></script>
  <script type="text/javascript" src="js/marked.js"></script>

  <script type="text/javascript" src="js/addon/mode/overlay.js"></script>
  <script type="text/javascript" src="js/mode/javascript/javascript.js"></script>
  <script type="text/javascript" src="js/mode/markdown/markdown.js"></script>
  <script type="text/javascript" src="js/mode/gfm/gfm.js"></script>

  <script type="text/javascript" src="js/jailed/jailed.js"></script>
</head>
<body>
  <div id="loading">
    initialising worksheet<br/><br/>
    <?xml version="1.0" encoding="utf-8"?><svg width='120px' height='120px' xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" preserveAspectRatio="xMidYMid" class="uil-gears"><rect x="0" y="0" width="100" height="100" fill="none" class="bk"></rect><g transform="translate(-20,-20)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="#8f7f59"><animateTransform attributeName="transform" type="rotate" from="90 50 50" to="0 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g><g transform="translate(20,20) rotate(15 50 50)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="#9f9fab"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="90 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g></svg>
  </div>
  <div id="body" style="opacity:0">
    <div id="header">
      <div contenteditable=true id="worksheet-title">Untitled</div><div class="title-lock"><div title="Lock" id="title-lock" class="button lock-button unlocked" expert>&nbsp;</div></div>
      <div id="top-status"></div>
      <div id="config-button" expert class="button config-button" title="Configure"></div>
      <div id="save-button" class="button save-button" title="Saved"></div>
    </div>
    
    <div id="controls" expert>
      <h2>Expert Controls:</h2>
      <p><i>These controls determine what users can do outside of expert mode.</i></p>
      Allow new cell creation: <input type="checkbox" name="Allow Cell Creation" id="allow-cell-creation">
      Allow Reordering: <input type="checkbox" name="Allow Reordering" id="allow-reorder">
      <h3>Preamble Code:</h3>
      <p><i>Outside of expert mode, the following code block is hidden, but will be run automatically 
      when the page loads. You can use this to define functions and variables that will be available
      to all code blocks in the worksheet.</i></p>
      <div id="preamble" class="cell code-cell">    
        <div class="code-cell-js">
        <div class="cell-buttons">
          <div id="run-preamble" title="Run" class="button run-button">&nbsp;</div>
        </div>
        </div>
        <div class="code-cell-output"></div>
      </div>
    </div>

    <div id="cells">
    </div>

    <div id="add-cell-buttons">
      <div title="Add text" id="add-text-cell" class="button add-cell-button">
      add text
      </div>
      <div title="Add code" id="add-code-cell" class="button add-cell-button">
      add code
      </div>
    </div>
    
    <div id="text-cell-template" class="cell text-cell">
      <div class="text-cell-markdown">
      <div class="cell-buttons">
        <div title="Delete" class="button delete-button" expert>&nbsp;</div>
        <div title="Lock" class="button lock-button unlocked" expert>&nbsp;</div>
      </div>
      </div>
      <div class="text-cell-output"></div>
    </div>
    <div id="code-cell-template" class="cell code-cell">
      <div class="code-cell-js">
        <div class="trafficlights"></div>
        <div class="cell-buttons">
          <div title="Delete" class="button delete-button" expert>&nbsp;</div>
          <div title="Run" class="button run-button">&nbsp;</div>
          <div title="Lock" class="button lock-button unlocked" expert>&nbsp;</div>
        </div>
      </div>
      <div class="code-cell-output"></div>
    </div>

    <div class="dialog" id="saveDialog">
      <div id="saveDialogInner">
        
        </div>
      <div id="saveDialogInnerLower">
        <a id="saveok" onclick="dismissSave()">Close</a>
      </div>
    </div>
  </div>
  <div id="dialogBackground"></div>
  <script src="js/worksheet.js"></script>
</body>
</html>

